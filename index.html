<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Example of wasm shader runner usage</title>
    <link data-trunk rel="rust" data-wasm-opt="s" data-typescript />
    <style>
      html {
        width: 100%;
        height: 100%;
      }
      body {
        margin: 0px;
        width: 100%;
        height: 100%;
        background-color: black;
      }
      #canvas {
        background-color: black;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <h1>Send Text to WebAssembly</h1>
    <textarea
      id="input-text"
      rows="20"
      cols="200"
      placeholder="Enter your shader code here..."
    ></textarea>
    <br />

    <button id="send-button">Apply shader code</button>

    <script type="module">
      import { set_fragment_shader } from "/dynamic_javascript_filename.js";

      const sendButton = document.getElementById("send-button");
      const inputText = document.getElementById("input-text");

      inputText.value = "default_shader_code_text";

      sendButton.addEventListener("click", () => {
        const text = inputText.value;
        set_fragment_shader(text);
        console.log("Shader text applied");
      });
    </script>
  </body>
</html>
